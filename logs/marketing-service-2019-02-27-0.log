2019-02-27 16:17:24.141 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@53812a9b: startup date [Wed Feb 27 16:17:24 CST 2019]; root of context hierarchy
2019-02-27 16:17:24.504 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 16:17:24.576 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$59b2dc39] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:17:24.586 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$80094711] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:17:25.239 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 16:17:25.300 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - No active profile set, falling back to default profiles: default
2019-02-27 16:17:25.310 marketing-service [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1f77b5cc: startup date [Wed Feb 27 16:17:25 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@53812a9b
2019-02-27 16:17:25.854 marketing-service [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.zjy.cld2019.marketingservice]' package. Please check your configuration.
2019-02-27 16:17:26.022 marketing-service [main] INFO  o.s.i.config.IntegrationRegistrar - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2019-02-27 16:17:26.089 marketing-service [main] INFO  o.s.c.a.ConfigurationClassBeanDefinitionReader - Skipping bean definition for [BeanMethod:name=configurableCompositeMessageConverter,declaringClass=org.springframework.cloud.stream.config.ContentTypeConfiguration]: a definition for bean 'integrationArgumentResolverMessageConverter' already exists. This top-level bean definition is considered as an override.
2019-02-27 16:17:26.446 marketing-service [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=9d01a298-1083-38ac-83d0-55ad5e1f45de
2019-02-27 16:17:26.461 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2019-02-27 16:17:26.467 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2019-02-27 16:17:26.481 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 16:17:26.576 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$59b2dc39] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:17:26.615 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$63ef4414] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:17:26.638 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$cee0ff43] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:17:26.658 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$80094711] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:17:26.675 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.dsl.context.IntegrationFlowContext' of type [org.springframework.integration.dsl.context.IntegrationFlowContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:17:27.010 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9002 (http)
2019-02-27 16:17:27.038 marketing-service [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2019-02-27 16:17:27.038 marketing-service [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.31
2019-02-27 16:17:27.041 marketing-service [localhost-startStop-1] INFO  o.a.c.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/zhangjunying/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-02-27 16:17:27.174 marketing-service [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-02-27 16:17:27.174 marketing-service [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1864 ms
2019-02-27 16:17:27.533 marketing-service [localhost-startStop-1] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 16:17:27.534 marketing-service [localhost-startStop-1] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 16:17:27.546 marketing-service [localhost-startStop-1] INFO  c.n.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@259d2efd
2019-02-27 16:17:27.729 marketing-service [localhost-startStop-1] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2019-02-27 16:17:27.984 marketing-service [localhost-startStop-1] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2019-02-27 16:17:28.700 marketing-service [localhost-startStop-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'taskScheduler'
2019-02-27 16:17:29.077 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-02-27 16:17:29.079 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet statViewServlet mapped to [/druid/*]
2019-02-27 16:17:29.084 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-02-27 16:17:29.085 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-02-27 16:17:29.085 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-02-27 16:17:29.085 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-02-27 16:17:29.085 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2019-02-27 16:17:29.086 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webStatFilter' to urls: [/*]
2019-02-27 16:17:29.086 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2019-02-27 16:17:29.144 marketing-service [main] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 16:17:29.145 marketing-service [main] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 16:17:29.217 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 16:17:29.337 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1f77b5cc: startup date [Wed Feb 27 16:17:25 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@53812a9b
2019-02-27 16:17:29.396 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-02-27 16:17:29.397 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 16:17:29.438 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 16:17:29.438 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 16:17:30.183 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'catalogWatchTaskScheduler'
2019-02-27 16:17:30.294 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'configWatchTaskScheduler'
2019-02-27 16:17:30.325 marketing-service [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2019-02-27 16:17:30.334 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 16:17:30.335 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 16:17:30.336 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 16:17:30.531 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 16:17:30.535 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'statFilter' has been autodetected for JMX exposure
2019-02-27 16:17:30.535 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-02-27 16:17:30.544 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2019-02-27 16:17:30.546 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'integrationMbeanExporter' has been autodetected for JMX exposure
2019-02-27 16:17:30.547 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2019-02-27 16:17:30.548 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2019-02-27 16:17:30.554 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2019-02-27 16:17:30.565 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2019-02-27 16:17:30.574 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'integrationMbeanExporter': registering with JMX server as MBean [org.springframework.integration.monitor:name=integrationMbeanExporter,type=IntegrationMBeanExporter]
2019-02-27 16:17:30.606 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=1f77b5cc,type=ConfigurationPropertiesRebinder]
2019-02-27 16:17:30.614 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.spring.boot.autoconfigure:name=dataSource,type=DruidDataSourceWrapper]
2019-02-27 16:17:30.615 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'statFilter': registering with JMX server as MBean [com.alibaba.druid.filter.stat:name=statFilter,type=StatFilter]
2019-02-27 16:17:30.633 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 16:17:30.634 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel nullChannel
2019-02-27 16:17:30.637 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=nullChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=nullChannel]
2019-02-27 16:17:30.647 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusOutput
2019-02-27 16:17:30.648 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusOutput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusOutput]
2019-02-27 16:17:30.677 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel errorChannel
2019-02-27 16:17:30.679 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=errorChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=errorChannel]
2019-02-27 16:17:30.696 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusInput
2019-02-27 16:17:30.698 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusInput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusInput]
2019-02-27 16:17:30.711 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageHandler errorLogger
2019-02-27 16:17:30.713 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal': registering with JMX server as MBean [org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal]
2019-02-27 16:17:30.805 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusInput' has 1 subscriber(s).
2019-02-27 16:17:30.811 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase -2147482648
2019-02-27 16:17:30.890 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 16:17:30.916 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@39342614: startup date [Wed Feb 27 16:17:30 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1f77b5cc
2019-02-27 16:17:30.933 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 16:17:31.000 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 16:17:31.000 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 1 subscriber(s).
2019-02-27 16:17:31.000 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started outbound.springCloudBus
2019-02-27 16:17:31.001 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 0
2019-02-27 16:17:31.004 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 16:17:31.005 marketing-service [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 1 subscriber(s).
2019-02-27 16:17:31.005 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started _org.springframework.integration.errorLogger
2019-02-27 16:17:31.005 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147482647
2019-02-27 16:17:31.014 marketing-service [main] INFO  o.s.c.c.b.ConsulInboundMessageProducer - started org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@66abb2fa
2019-02-27 16:17:31.061 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 9002 (http) with context path ''
2019-02-27 16:17:31.079 marketing-service [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='marketing-service-9002', name='marketing-service', tags=[secure=false], address='192.168.0.103', port=9002, enableTagOverride=null, check=Check{script='null', interval='10s', ttl='null', http='http://192.168.0.103:9002/consul/health', tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null'}, checks=null}
2019-02-27 16:17:31.091 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - Started MarketingServiceApplication in 8.007 seconds (JVM running for 9.342)
2019-02-27 16:17:32.099 marketing-service [RMI TCP Connection(4)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-02-27 16:17:32.110 marketing-service [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2019-02-27 16:17:32.133 marketing-service [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2019-02-27 16:18:45.668 marketing-service [Thread-8] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1f77b5cc: startup date [Wed Feb 27 16:17:25 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@53812a9b
2019-02-27 16:18:45.670 marketing-service [Thread-8] INFO  o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@39342614: startup date [Wed Feb 27 16:17:30 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1f77b5cc
2019-02-27 16:18:45.674 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147482647
2019-02-27 16:18:45.675 marketing-service [Thread-8] INFO  o.s.c.c.b.ConsulInboundMessageProducer - stopped org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@66abb2fa
2019-02-27 16:18:45.676 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 0
2019-02-27 16:18:45.676 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 16:18:45.676 marketing-service [Thread-8] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 0 subscriber(s).
2019-02-27 16:18:45.676 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped _org.springframework.integration.errorLogger
2019-02-27 16:18:45.676 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147482648
2019-02-27 16:18:45.676 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 16:18:45.677 marketing-service [Thread-8] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 0 subscriber(s).
2019-02-27 16:18:45.677 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped outbound.springCloudBus
2019-02-27 16:18:45.677 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'configWatchTaskScheduler'
2019-02-27 16:18:45.677 marketing-service [Thread-8] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: marketing-service-9002
2019-02-27 16:18:45.683 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'catalogWatchTaskScheduler'
2019-02-27 16:18:45.683 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 16:18:45.684 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 16:18:45.684 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: nullChannel
2019-02-27 16:18:45.684 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusOutput
2019-02-27 16:18:45.684 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: errorChannel
2019-02-27 16:18:45.685 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusInput
2019-02-27 16:18:45.685 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: _org.springframework.integration.errorLogger.handler
2019-02-27 16:18:45.686 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 16:18:45.687 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 16:18:45.692 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2019-02-27 16:18:45.698 marketing-service [Thread-8] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2019-02-27 16:18:52.118 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@56bca85b: startup date [Wed Feb 27 16:18:52 CST 2019]; root of context hierarchy
2019-02-27 16:18:52.585 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 16:18:52.687 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$74d9fbf0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:18:52.696 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$9b3066c8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:18:53.317 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 16:18:53.359 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - No active profile set, falling back to default profiles: default
2019-02-27 16:18:53.370 marketing-service [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4edef76c: startup date [Wed Feb 27 16:18:53 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@56bca85b
2019-02-27 16:18:53.893 marketing-service [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.zjy.cld2019.marketingservice]' package. Please check your configuration.
2019-02-27 16:18:54.044 marketing-service [main] INFO  o.s.i.config.IntegrationRegistrar - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2019-02-27 16:18:54.090 marketing-service [main] INFO  o.s.c.a.ConfigurationClassBeanDefinitionReader - Skipping bean definition for [BeanMethod:name=configurableCompositeMessageConverter,declaringClass=org.springframework.cloud.stream.config.ContentTypeConfiguration]: a definition for bean 'integrationArgumentResolverMessageConverter' already exists. This top-level bean definition is considered as an override.
2019-02-27 16:18:54.419 marketing-service [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=974b28a3-9b61-3cad-b8e3-8c85c67e56a8
2019-02-27 16:18:54.443 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2019-02-27 16:18:54.447 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2019-02-27 16:18:54.464 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 16:18:54.533 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$74d9fbf0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:18:54.568 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7f1663cb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:18:54.598 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$ea081efa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:18:54.616 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$9b3066c8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:18:54.632 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.dsl.context.IntegrationFlowContext' of type [org.springframework.integration.dsl.context.IntegrationFlowContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 16:18:54.899 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9002 (http)
2019-02-27 16:18:54.925 marketing-service [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2019-02-27 16:18:54.926 marketing-service [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.31
2019-02-27 16:18:54.929 marketing-service [localhost-startStop-1] INFO  o.a.c.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/zhangjunying/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-02-27 16:18:55.068 marketing-service [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-02-27 16:18:55.068 marketing-service [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1698 ms
2019-02-27 16:18:55.360 marketing-service [localhost-startStop-1] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 16:18:55.361 marketing-service [localhost-startStop-1] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 16:18:55.373 marketing-service [localhost-startStop-1] INFO  c.n.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@2ea5787b
2019-02-27 16:18:55.537 marketing-service [localhost-startStop-1] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2019-02-27 16:18:55.759 marketing-service [localhost-startStop-1] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2019-02-27 16:18:56.332 marketing-service [localhost-startStop-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'taskScheduler'
2019-02-27 16:18:56.659 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-02-27 16:18:56.660 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet statViewServlet mapped to [/druid/*]
2019-02-27 16:18:56.664 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-02-27 16:18:56.664 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-02-27 16:18:56.664 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-02-27 16:18:56.664 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-02-27 16:18:56.664 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2019-02-27 16:18:56.665 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webStatFilter' to urls: [/*]
2019-02-27 16:18:56.665 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2019-02-27 16:18:56.724 marketing-service [main] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 16:18:56.725 marketing-service [main] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 16:18:56.838 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 16:18:56.989 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4edef76c: startup date [Wed Feb 27 16:18:53 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@56bca85b
2019-02-27 16:18:57.053 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/actuator/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health()
2019-02-27 16:18:57.053 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/consul/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health2()
2019-02-27 16:18:57.056 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-02-27 16:18:57.057 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 16:18:57.095 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 16:18:57.095 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 16:18:58.172 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'catalogWatchTaskScheduler'
2019-02-27 16:18:58.360 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'configWatchTaskScheduler'
2019-02-27 16:18:58.395 marketing-service [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2019-02-27 16:18:58.407 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 16:18:58.408 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 16:18:58.409 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 16:18:58.551 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 16:18:58.552 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'statFilter' has been autodetected for JMX exposure
2019-02-27 16:18:58.552 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-02-27 16:18:58.561 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2019-02-27 16:18:58.563 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'integrationMbeanExporter' has been autodetected for JMX exposure
2019-02-27 16:18:58.563 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2019-02-27 16:18:58.566 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2019-02-27 16:18:58.570 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2019-02-27 16:18:58.581 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2019-02-27 16:18:58.590 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'integrationMbeanExporter': registering with JMX server as MBean [org.springframework.integration.monitor:name=integrationMbeanExporter,type=IntegrationMBeanExporter]
2019-02-27 16:18:58.643 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=4edef76c,type=ConfigurationPropertiesRebinder]
2019-02-27 16:18:58.651 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.spring.boot.autoconfigure:name=dataSource,type=DruidDataSourceWrapper]
2019-02-27 16:18:58.652 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'statFilter': registering with JMX server as MBean [com.alibaba.druid.filter.stat:name=statFilter,type=StatFilter]
2019-02-27 16:18:58.670 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 16:18:58.671 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel errorChannel
2019-02-27 16:18:58.673 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=errorChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=errorChannel]
2019-02-27 16:18:58.712 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusOutput
2019-02-27 16:18:58.715 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusOutput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusOutput]
2019-02-27 16:18:58.757 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel nullChannel
2019-02-27 16:18:58.761 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=nullChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=nullChannel]
2019-02-27 16:18:58.771 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusInput
2019-02-27 16:18:58.772 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusInput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusInput]
2019-02-27 16:18:58.787 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageHandler errorLogger
2019-02-27 16:18:58.788 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal': registering with JMX server as MBean [org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal]
2019-02-27 16:18:58.895 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusInput' has 1 subscriber(s).
2019-02-27 16:18:58.900 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase -2147482648
2019-02-27 16:18:58.988 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 16:18:59.019 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@4a5066f5: startup date [Wed Feb 27 16:18:59 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4edef76c
2019-02-27 16:18:59.038 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 16:18:59.100 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 16:18:59.100 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 1 subscriber(s).
2019-02-27 16:18:59.100 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started outbound.springCloudBus
2019-02-27 16:18:59.101 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 0
2019-02-27 16:18:59.103 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 16:18:59.104 marketing-service [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 1 subscriber(s).
2019-02-27 16:18:59.105 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started _org.springframework.integration.errorLogger
2019-02-27 16:18:59.105 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147482647
2019-02-27 16:18:59.114 marketing-service [main] INFO  o.s.c.c.b.ConsulInboundMessageProducer - started org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@4888425d
2019-02-27 16:18:59.177 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 9002 (http) with context path ''
2019-02-27 16:18:59.200 marketing-service [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='marketing-service-9002', name='marketing-service', tags=[secure=false], address='192.168.0.103', port=9002, enableTagOverride=null, check=Check{script='null', interval='10s', ttl='null', http='http://192.168.0.103:9002/consul/health', tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null'}, checks=null}
2019-02-27 16:18:59.218 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - Started MarketingServiceApplication in 7.998 seconds (JVM running for 8.93)
2019-02-27 16:19:00.023 marketing-service [RMI TCP Connection(8)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-02-27 16:19:00.026 marketing-service [RMI TCP Connection(8)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2019-02-27 16:19:00.055 marketing-service [RMI TCP Connection(8)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 29 ms
2019-02-27 17:00:33.419 marketing-service [Thread-8] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4edef76c: startup date [Wed Feb 27 16:18:53 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@56bca85b
2019-02-27 17:00:33.433 marketing-service [Thread-8] INFO  o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@4a5066f5: startup date [Wed Feb 27 16:18:59 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4edef76c
2019-02-27 17:00:33.458 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147482647
2019-02-27 17:00:33.461 marketing-service [Thread-8] INFO  o.s.c.c.b.ConsulInboundMessageProducer - stopped org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@4888425d
2019-02-27 17:00:33.461 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 0
2019-02-27 17:00:33.461 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:00:33.462 marketing-service [Thread-8] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 0 subscriber(s).
2019-02-27 17:00:33.462 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped _org.springframework.integration.errorLogger
2019-02-27 17:00:33.462 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147482648
2019-02-27 17:00:33.462 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:00:33.463 marketing-service [Thread-8] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 0 subscriber(s).
2019-02-27 17:00:33.463 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped outbound.springCloudBus
2019-02-27 17:00:33.464 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'configWatchTaskScheduler'
2019-02-27 17:00:33.464 marketing-service [Thread-8] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: marketing-service-9002
2019-02-27 17:00:33.473 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'catalogWatchTaskScheduler'
2019-02-27 17:00:33.476 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:00:33.478 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:00:33.479 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: errorChannel
2019-02-27 17:00:33.479 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusOutput
2019-02-27 17:00:33.479 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: nullChannel
2019-02-27 17:00:33.479 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusInput
2019-02-27 17:00:33.479 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: _org.springframework.integration.errorLogger.handler
2019-02-27 17:00:33.481 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:00:33.481 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:00:33.491 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2019-02-27 17:00:33.496 marketing-service [Thread-8] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2019-02-27 17:00:42.876 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@422c3c7a: startup date [Wed Feb 27 17:00:42 CST 2019]; root of context hierarchy
2019-02-27 17:00:43.231 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:00:43.298 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$e7c1f3ed] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:00:43.307 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e185ec5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:00:43.887 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:00:43.937 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - No active profile set, falling back to default profiles: default
2019-02-27 17:00:43.952 marketing-service [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@29a1505c: startup date [Wed Feb 27 17:00:43 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@422c3c7a
2019-02-27 17:00:44.783 marketing-service [main] INFO  o.s.i.config.IntegrationRegistrar - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2019-02-27 17:00:44.831 marketing-service [main] INFO  o.s.c.a.ConfigurationClassBeanDefinitionReader - Skipping bean definition for [BeanMethod:name=configurableCompositeMessageConverter,declaringClass=org.springframework.cloud.stream.config.ContentTypeConfiguration]: a definition for bean 'integrationArgumentResolverMessageConverter' already exists. This top-level bean definition is considered as an override.
2019-02-27 17:00:45.181 marketing-service [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=bdfc17fe-bb1e-3827-8eef-f1207bee95c5
2019-02-27 17:00:45.194 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2019-02-27 17:00:45.196 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2019-02-27 17:00:45.209 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:00:45.282 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$e7c1f3ed] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:00:45.322 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f1fe5bc8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:00:45.353 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$5cf016f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:00:45.369 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e185ec5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:00:45.387 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.dsl.context.IntegrationFlowContext' of type [org.springframework.integration.dsl.context.IntegrationFlowContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:00:45.665 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9002 (http)
2019-02-27 17:00:45.690 marketing-service [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2019-02-27 17:00:45.690 marketing-service [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.31
2019-02-27 17:00:45.693 marketing-service [localhost-startStop-1] INFO  o.a.c.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/zhangjunying/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-02-27 17:00:45.843 marketing-service [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-02-27 17:00:45.844 marketing-service [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1892 ms
2019-02-27 17:00:46.138 marketing-service [localhost-startStop-1] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:00:46.138 marketing-service [localhost-startStop-1] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:00:46.147 marketing-service [localhost-startStop-1] INFO  c.n.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@d7d522c
2019-02-27 17:00:46.316 marketing-service [localhost-startStop-1] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2019-02-27 17:00:46.566 marketing-service [localhost-startStop-1] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2019-02-27 17:00:47.155 marketing-service [localhost-startStop-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'taskScheduler'
2019-02-27 17:00:47.485 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-02-27 17:00:47.486 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet statViewServlet mapped to [/druid/*]
2019-02-27 17:00:47.490 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-02-27 17:00:47.491 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2019-02-27 17:00:47.491 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webStatFilter' to urls: [/*]
2019-02-27 17:00:47.491 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2019-02-27 17:00:47.958 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/actuator/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health()
2019-02-27 17:00:47.959 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/consul/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health2()
2019-02-27 17:00:47.961 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/getusercoupon],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<com.zjy.cld2019.marketingservice.model.MarketingCoupon> com.zjy.cld2019.marketingservice.controller.MarketingController.getMarketingCoupon(java.lang.String)
2019-02-27 17:00:47.962 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-02-27 17:00:47.964 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2019-02-27 17:00:47.965 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2019-02-27 17:00:47.965 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2019-02-27 17:00:47.968 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-02-27 17:00:47.969 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:00:48.072 marketing-service [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2019-02-27 17:00:48.083 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:00:48.083 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:00:48.084 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:00:48.212 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/swagger-ui.html] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:00:48.212 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:00:48.261 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@29a1505c: startup date [Wed Feb 27 17:00:43 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@422c3c7a
2019-02-27 17:00:48.312 marketing-service [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in com.zjy.cld2019.common.rest.advice.RestExceptionHandler
2019-02-27 17:00:48.340 marketing-service [main] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:00:48.340 marketing-service [main] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:00:48.904 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'catalogWatchTaskScheduler'
2019-02-27 17:00:49.018 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'configWatchTaskScheduler'
2019-02-27 17:00:49.178 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:00:49.180 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'statFilter' has been autodetected for JMX exposure
2019-02-27 17:00:49.180 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-02-27 17:00:49.192 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2019-02-27 17:00:49.194 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'integrationMbeanExporter' has been autodetected for JMX exposure
2019-02-27 17:00:49.195 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2019-02-27 17:00:49.196 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2019-02-27 17:00:49.201 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2019-02-27 17:00:49.210 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2019-02-27 17:00:49.219 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'integrationMbeanExporter': registering with JMX server as MBean [org.springframework.integration.monitor:name=integrationMbeanExporter,type=IntegrationMBeanExporter]
2019-02-27 17:00:49.244 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=29a1505c,type=ConfigurationPropertiesRebinder]
2019-02-27 17:00:49.249 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.spring.boot.autoconfigure:name=dataSource,type=DruidDataSourceWrapper]
2019-02-27 17:00:49.251 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'statFilter': registering with JMX server as MBean [com.alibaba.druid.filter.stat:name=statFilter,type=StatFilter]
2019-02-27 17:00:49.269 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:00:49.270 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel errorChannel
2019-02-27 17:00:49.273 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=errorChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=errorChannel]
2019-02-27 17:00:49.306 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusOutput
2019-02-27 17:00:49.308 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusOutput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusOutput]
2019-02-27 17:00:49.317 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel nullChannel
2019-02-27 17:00:49.320 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=nullChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=nullChannel]
2019-02-27 17:00:49.329 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusInput
2019-02-27 17:00:49.330 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusInput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusInput]
2019-02-27 17:00:49.345 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageHandler errorLogger
2019-02-27 17:00:49.347 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal': registering with JMX server as MBean [org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal]
2019-02-27 17:00:49.427 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusInput' has 1 subscriber(s).
2019-02-27 17:00:49.436 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase -2147482648
2019-02-27 17:00:49.532 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:00:49.570 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@7c45191e: startup date [Wed Feb 27 17:00:49 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@29a1505c
2019-02-27 17:00:49.581 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:00:49.660 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:00:49.660 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 1 subscriber(s).
2019-02-27 17:00:49.663 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started outbound.springCloudBus
2019-02-27 17:00:49.667 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 0
2019-02-27 17:00:49.671 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:00:49.672 marketing-service [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 1 subscriber(s).
2019-02-27 17:00:49.672 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started _org.springframework.integration.errorLogger
2019-02-27 17:00:49.672 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147482647
2019-02-27 17:00:49.692 marketing-service [main] INFO  o.s.c.c.b.ConsulInboundMessageProducer - started org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@1a4ae53d
2019-02-27 17:00:49.692 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147483647
2019-02-27 17:00:49.692 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Context refreshed
2019-02-27 17:00:49.723 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Found 1 custom documentation plugin(s)
2019-02-27 17:00:49.739 marketing-service [main] INFO  s.d.s.w.s.ApiListingReferenceScanner - Scanning for api listing references
2019-02-27 17:00:49.909 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 9002 (http) with context path ''
2019-02-27 17:00:49.929 marketing-service [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='marketing-service-9002', name='marketing-service', tags=[secure=false], address='192.168.0.103', port=9002, enableTagOverride=null, check=Check{script='null', interval='10s', ttl='null', http='http://192.168.0.103:9002/consul/health', tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null'}, checks=null}
2019-02-27 17:00:49.947 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - Started MarketingServiceApplication in 7.942 seconds (JVM running for 8.969)
2019-02-27 17:00:50.579 marketing-service [RMI TCP Connection(9)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-02-27 17:00:50.583 marketing-service [RMI TCP Connection(9)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2019-02-27 17:00:50.624 marketing-service [RMI TCP Connection(9)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 41 ms
2019-02-27 17:03:20.017 marketing-service [Thread-8] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@29a1505c: startup date [Wed Feb 27 17:00:43 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@422c3c7a
2019-02-27 17:03:20.021 marketing-service [Thread-8] INFO  o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@7c45191e: startup date [Wed Feb 27 17:00:49 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@29a1505c
2019-02-27 17:03:20.026 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
2019-02-27 17:03:20.027 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147482647
2019-02-27 17:03:20.027 marketing-service [Thread-8] INFO  o.s.c.c.b.ConsulInboundMessageProducer - stopped org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@1a4ae53d
2019-02-27 17:03:20.028 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 0
2019-02-27 17:03:20.028 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:03:20.028 marketing-service [Thread-8] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 0 subscriber(s).
2019-02-27 17:03:20.028 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped _org.springframework.integration.errorLogger
2019-02-27 17:03:20.028 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147482648
2019-02-27 17:03:20.028 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:03:20.029 marketing-service [Thread-8] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 0 subscriber(s).
2019-02-27 17:03:20.029 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped outbound.springCloudBus
2019-02-27 17:03:20.029 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'configWatchTaskScheduler'
2019-02-27 17:03:20.030 marketing-service [Thread-8] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: marketing-service-9002
2019-02-27 17:03:20.039 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'catalogWatchTaskScheduler'
2019-02-27 17:03:20.040 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:03:20.041 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:03:20.042 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: errorChannel
2019-02-27 17:03:20.043 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusOutput
2019-02-27 17:03:20.043 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: nullChannel
2019-02-27 17:03:20.043 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusInput
2019-02-27 17:03:20.043 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: _org.springframework.integration.errorLogger.handler
2019-02-27 17:03:20.044 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:03:20.045 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:03:20.051 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2019-02-27 17:03:20.057 marketing-service [Thread-8] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2019-02-27 17:03:26.490 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@65aa6596: startup date [Wed Feb 27 17:03:26 CST 2019]; root of context hierarchy
2019-02-27 17:03:26.892 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:03:26.965 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$5bf6de43] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:03:26.973 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$824d491b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:03:27.694 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:03:27.739 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - No active profile set, falling back to default profiles: default
2019-02-27 17:03:27.756 marketing-service [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@18b8d173: startup date [Wed Feb 27 17:03:27 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@65aa6596
2019-02-27 17:03:28.664 marketing-service [main] INFO  o.s.i.config.IntegrationRegistrar - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2019-02-27 17:03:28.717 marketing-service [main] INFO  o.s.c.a.ConfigurationClassBeanDefinitionReader - Skipping bean definition for [BeanMethod:name=configurableCompositeMessageConverter,declaringClass=org.springframework.cloud.stream.config.ContentTypeConfiguration]: a definition for bean 'integrationArgumentResolverMessageConverter' already exists. This top-level bean definition is considered as an override.
2019-02-27 17:03:29.163 marketing-service [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=bdfc17fe-bb1e-3827-8eef-f1207bee95c5
2019-02-27 17:03:29.187 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2019-02-27 17:03:29.189 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2019-02-27 17:03:29.201 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:03:29.287 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$5bf6de43] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:03:29.336 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6633461e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:03:29.374 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$d125014d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:03:29.400 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$824d491b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:03:29.423 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.dsl.context.IntegrationFlowContext' of type [org.springframework.integration.dsl.context.IntegrationFlowContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:03:29.851 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9002 (http)
2019-02-27 17:03:29.883 marketing-service [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2019-02-27 17:03:29.884 marketing-service [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.31
2019-02-27 17:03:29.888 marketing-service [localhost-startStop-1] INFO  o.a.c.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/zhangjunying/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-02-27 17:03:30.008 marketing-service [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-02-27 17:03:30.008 marketing-service [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 2252 ms
2019-02-27 17:03:30.351 marketing-service [localhost-startStop-1] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:03:30.351 marketing-service [localhost-startStop-1] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:03:30.363 marketing-service [localhost-startStop-1] INFO  c.n.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@5dd2c477
2019-02-27 17:03:30.654 marketing-service [localhost-startStop-1] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2019-02-27 17:03:30.903 marketing-service [localhost-startStop-1] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2019-02-27 17:03:31.641 marketing-service [localhost-startStop-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'taskScheduler'
2019-02-27 17:03:32.031 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-02-27 17:03:32.032 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet statViewServlet mapped to [/druid/*]
2019-02-27 17:03:32.040 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-02-27 17:03:32.041 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2019-02-27 17:03:32.042 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webStatFilter' to urls: [/*]
2019-02-27 17:03:32.042 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2019-02-27 17:03:32.640 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/actuator/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health()
2019-02-27 17:03:32.641 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/consul/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health2()
2019-02-27 17:03:32.644 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/getusercoupon],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<com.zjy.cld2019.marketingservice.model.MarketingCoupon> com.zjy.cld2019.marketingservice.controller.MarketingController.getMarketingCoupon(java.lang.String)
2019-02-27 17:03:32.645 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-02-27 17:03:32.647 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2019-02-27 17:03:32.647 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2019-02-27 17:03:32.648 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2019-02-27 17:03:32.652 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-02-27 17:03:32.653 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:03:32.776 marketing-service [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2019-02-27 17:03:32.789 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:03:32.790 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:03:32.792 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:03:32.989 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/swagger-ui.html] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:03:32.991 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:03:33.052 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@18b8d173: startup date [Wed Feb 27 17:03:27 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@65aa6596
2019-02-27 17:03:33.107 marketing-service [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in com.zjy.cld2019.common.rest.advice.RestExceptionHandler
2019-02-27 17:03:33.137 marketing-service [main] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:03:33.137 marketing-service [main] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:03:33.916 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'catalogWatchTaskScheduler'
2019-02-27 17:03:34.151 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'configWatchTaskScheduler'
2019-02-27 17:03:34.311 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:03:34.314 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'statFilter' has been autodetected for JMX exposure
2019-02-27 17:03:34.314 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-02-27 17:03:34.328 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2019-02-27 17:03:34.333 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'integrationMbeanExporter' has been autodetected for JMX exposure
2019-02-27 17:03:34.334 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2019-02-27 17:03:34.335 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2019-02-27 17:03:34.342 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2019-02-27 17:03:34.351 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2019-02-27 17:03:34.359 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'integrationMbeanExporter': registering with JMX server as MBean [org.springframework.integration.monitor:name=integrationMbeanExporter,type=IntegrationMBeanExporter]
2019-02-27 17:03:34.391 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=18b8d173,type=ConfigurationPropertiesRebinder]
2019-02-27 17:03:34.407 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.spring.boot.autoconfigure:name=dataSource,type=DruidDataSourceWrapper]
2019-02-27 17:03:34.409 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'statFilter': registering with JMX server as MBean [com.alibaba.druid.filter.stat:name=statFilter,type=StatFilter]
2019-02-27 17:03:34.433 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:03:34.435 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusOutput
2019-02-27 17:03:34.439 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusOutput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusOutput]
2019-02-27 17:03:34.472 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel errorChannel
2019-02-27 17:03:34.476 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=errorChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=errorChannel]
2019-02-27 17:03:34.505 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusInput
2019-02-27 17:03:34.507 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusInput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusInput]
2019-02-27 17:03:34.519 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel nullChannel
2019-02-27 17:03:34.522 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=nullChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=nullChannel]
2019-02-27 17:03:34.539 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageHandler errorLogger
2019-02-27 17:03:34.543 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal': registering with JMX server as MBean [org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal]
2019-02-27 17:03:34.642 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusInput' has 1 subscriber(s).
2019-02-27 17:03:34.649 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase -2147482648
2019-02-27 17:03:34.734 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:03:34.756 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@5c81ddab: startup date [Wed Feb 27 17:03:34 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@18b8d173
2019-02-27 17:03:34.770 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:03:34.839 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:03:34.839 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 1 subscriber(s).
2019-02-27 17:03:34.840 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started outbound.springCloudBus
2019-02-27 17:03:34.840 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 0
2019-02-27 17:03:34.843 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:03:34.843 marketing-service [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 1 subscriber(s).
2019-02-27 17:03:34.844 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started _org.springframework.integration.errorLogger
2019-02-27 17:03:34.844 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147482647
2019-02-27 17:03:34.857 marketing-service [main] INFO  o.s.c.c.b.ConsulInboundMessageProducer - started org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@a84b6de
2019-02-27 17:03:34.857 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147483647
2019-02-27 17:03:34.858 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Context refreshed
2019-02-27 17:03:34.886 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Found 1 custom documentation plugin(s)
2019-02-27 17:03:34.913 marketing-service [main] INFO  s.d.s.w.s.ApiListingReferenceScanner - Scanning for api listing references
2019-02-27 17:03:35.177 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 9002 (http) with context path ''
2019-02-27 17:03:35.203 marketing-service [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='marketing-service-9002', name='marketing-service', tags=[secure=false], address='192.168.0.103', port=9002, enableTagOverride=null, check=Check{script='null', interval='10s', ttl='null', http='http://192.168.0.103:9002/consul/health', tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null'}, checks=null}
2019-02-27 17:03:35.215 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - Started MarketingServiceApplication in 10.036 seconds (JVM running for 11.736)
2019-02-27 17:03:35.999 marketing-service [RMI TCP Connection(6)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-02-27 17:03:36.003 marketing-service [RMI TCP Connection(6)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2019-02-27 17:03:36.023 marketing-service [RMI TCP Connection(6)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
2019-02-27 17:04:26.508 marketing-service [Thread-8] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@18b8d173: startup date [Wed Feb 27 17:03:27 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@65aa6596
2019-02-27 17:04:26.515 marketing-service [Thread-8] INFO  o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@5c81ddab: startup date [Wed Feb 27 17:03:34 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@18b8d173
2019-02-27 17:04:26.526 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
2019-02-27 17:04:26.527 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147482647
2019-02-27 17:04:26.528 marketing-service [Thread-8] INFO  o.s.c.c.b.ConsulInboundMessageProducer - stopped org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@a84b6de
2019-02-27 17:04:26.528 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 0
2019-02-27 17:04:26.531 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:04:26.531 marketing-service [Thread-8] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 0 subscriber(s).
2019-02-27 17:04:26.531 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped _org.springframework.integration.errorLogger
2019-02-27 17:04:26.531 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147482648
2019-02-27 17:04:26.532 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:04:26.532 marketing-service [Thread-8] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 0 subscriber(s).
2019-02-27 17:04:26.532 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped outbound.springCloudBus
2019-02-27 17:04:26.533 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'configWatchTaskScheduler'
2019-02-27 17:04:26.535 marketing-service [Thread-8] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: marketing-service-9002
2019-02-27 17:04:26.549 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'catalogWatchTaskScheduler'
2019-02-27 17:04:26.554 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:04:26.555 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:04:26.556 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusOutput
2019-02-27 17:04:26.557 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: errorChannel
2019-02-27 17:04:26.557 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusInput
2019-02-27 17:04:26.557 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: nullChannel
2019-02-27 17:04:26.557 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: _org.springframework.integration.errorLogger.handler
2019-02-27 17:04:26.560 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:04:26.562 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:04:26.575 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2019-02-27 17:04:26.581 marketing-service [Thread-8] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2019-02-27 17:09:00.329 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@18230356: startup date [Wed Feb 27 17:09:00 CST 2019]; root of context hierarchy
2019-02-27 17:09:00.731 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:09:00.799 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$457341e0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:09:00.806 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$6bc9acb8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:09:01.508 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:09:01.553 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - No active profile set, falling back to default profiles: default
2019-02-27 17:09:01.569 marketing-service [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2dd2e270: startup date [Wed Feb 27 17:09:01 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18230356
2019-02-27 17:09:02.753 marketing-service [main] INFO  o.s.i.config.IntegrationRegistrar - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2019-02-27 17:09:02.815 marketing-service [main] INFO  o.s.c.a.ConfigurationClassBeanDefinitionReader - Skipping bean definition for [BeanMethod:name=configurableCompositeMessageConverter,declaringClass=org.springframework.cloud.stream.config.ContentTypeConfiguration]: a definition for bean 'integrationArgumentResolverMessageConverter' already exists. This top-level bean definition is considered as an override.
2019-02-27 17:09:03.174 marketing-service [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=bdfc17fe-bb1e-3827-8eef-f1207bee95c5
2019-02-27 17:09:03.189 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2019-02-27 17:09:03.193 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2019-02-27 17:09:03.209 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:09:03.301 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$457341e0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:09:03.353 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4fafa9bb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:09:03.386 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$baa164ea] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:09:03.408 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$6bc9acb8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:09:03.423 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.dsl.context.IntegrationFlowContext' of type [org.springframework.integration.dsl.context.IntegrationFlowContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:09:03.718 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9002 (http)
2019-02-27 17:09:03.744 marketing-service [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2019-02-27 17:09:03.745 marketing-service [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.31
2019-02-27 17:09:03.748 marketing-service [localhost-startStop-1] INFO  o.a.c.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/zhangjunying/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-02-27 17:09:03.894 marketing-service [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-02-27 17:09:03.895 marketing-service [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 2326 ms
2019-02-27 17:09:04.169 marketing-service [localhost-startStop-1] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:09:04.169 marketing-service [localhost-startStop-1] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:09:04.181 marketing-service [localhost-startStop-1] INFO  c.n.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@66457f83
2019-02-27 17:09:04.352 marketing-service [localhost-startStop-1] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2019-02-27 17:09:04.596 marketing-service [localhost-startStop-1] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2019-02-27 17:09:05.234 marketing-service [localhost-startStop-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'taskScheduler'
2019-02-27 17:09:05.604 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-02-27 17:09:05.607 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet statViewServlet mapped to [/druid/*]
2019-02-27 17:09:05.612 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-02-27 17:09:05.612 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2019-02-27 17:09:05.613 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webStatFilter' to urls: [/*]
2019-02-27 17:09:05.613 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2019-02-27 17:09:06.039 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/actuator/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health()
2019-02-27 17:09:06.040 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/consul/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health2()
2019-02-27 17:09:06.042 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/getusercoupon],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<com.zjy.cld2019.marketingservice.model.MarketingCoupon> com.zjy.cld2019.marketingservice.controller.MarketingController.getMarketingCoupon(java.lang.String)
2019-02-27 17:09:06.043 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-02-27 17:09:06.045 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2019-02-27 17:09:06.045 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2019-02-27 17:09:06.046 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2019-02-27 17:09:06.051 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-02-27 17:09:06.051 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:09:06.158 marketing-service [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2019-02-27 17:09:06.170 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:09:06.171 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:09:06.171 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:09:06.286 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/swagger-ui.html] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:09:06.286 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:09:06.336 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2dd2e270: startup date [Wed Feb 27 17:09:01 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18230356
2019-02-27 17:09:06.386 marketing-service [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in com.zjy.cld2019.common.rest.advice.RestExceptionHandler
2019-02-27 17:09:06.419 marketing-service [main] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:09:06.419 marketing-service [main] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:09:06.998 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'catalogWatchTaskScheduler'
2019-02-27 17:09:07.103 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'configWatchTaskScheduler'
2019-02-27 17:09:07.252 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:09:07.255 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'statFilter' has been autodetected for JMX exposure
2019-02-27 17:09:07.255 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-02-27 17:09:07.265 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2019-02-27 17:09:07.267 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'integrationMbeanExporter' has been autodetected for JMX exposure
2019-02-27 17:09:07.268 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2019-02-27 17:09:07.269 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2019-02-27 17:09:07.273 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2019-02-27 17:09:07.283 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2019-02-27 17:09:07.292 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'integrationMbeanExporter': registering with JMX server as MBean [org.springframework.integration.monitor:name=integrationMbeanExporter,type=IntegrationMBeanExporter]
2019-02-27 17:09:07.320 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=2dd2e270,type=ConfigurationPropertiesRebinder]
2019-02-27 17:09:07.326 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.spring.boot.autoconfigure:name=dataSource,type=DruidDataSourceWrapper]
2019-02-27 17:09:07.328 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'statFilter': registering with JMX server as MBean [com.alibaba.druid.filter.stat:name=statFilter,type=StatFilter]
2019-02-27 17:09:07.350 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:09:07.350 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel nullChannel
2019-02-27 17:09:07.353 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=nullChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=nullChannel]
2019-02-27 17:09:07.364 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusOutput
2019-02-27 17:09:07.369 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusOutput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusOutput]
2019-02-27 17:09:07.408 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel errorChannel
2019-02-27 17:09:07.412 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=errorChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=errorChannel]
2019-02-27 17:09:07.432 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusInput
2019-02-27 17:09:07.434 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusInput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusInput]
2019-02-27 17:09:07.446 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageHandler errorLogger
2019-02-27 17:09:07.448 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal': registering with JMX server as MBean [org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal]
2019-02-27 17:09:07.528 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusInput' has 1 subscriber(s).
2019-02-27 17:09:07.534 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase -2147482648
2019-02-27 17:09:07.629 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:09:07.659 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@2eea4441: startup date [Wed Feb 27 17:09:07 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2dd2e270
2019-02-27 17:09:07.679 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:09:07.766 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:09:07.766 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 1 subscriber(s).
2019-02-27 17:09:07.766 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started outbound.springCloudBus
2019-02-27 17:09:07.767 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 0
2019-02-27 17:09:07.769 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:09:07.770 marketing-service [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 1 subscriber(s).
2019-02-27 17:09:07.770 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started _org.springframework.integration.errorLogger
2019-02-27 17:09:07.770 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147482647
2019-02-27 17:09:07.783 marketing-service [main] INFO  o.s.c.c.b.ConsulInboundMessageProducer - started org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@271a140c
2019-02-27 17:09:07.784 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147483647
2019-02-27 17:09:07.787 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Context refreshed
2019-02-27 17:09:07.799 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Found 1 custom documentation plugin(s)
2019-02-27 17:09:07.817 marketing-service [main] INFO  s.d.s.w.s.ApiListingReferenceScanner - Scanning for api listing references
2019-02-27 17:09:07.985 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 9002 (http) with context path ''
2019-02-27 17:09:08.007 marketing-service [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='marketing-service-9002', name='marketing-service', tags=[secure=false], address='192.168.0.103', port=9002, enableTagOverride=null, check=Check{script='null', interval='10s', ttl='null', http='http://192.168.0.103:9002/consul/health', tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null'}, checks=null}
2019-02-27 17:09:08.025 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - Started MarketingServiceApplication in 8.624 seconds (JVM running for 9.883)
2019-02-27 17:09:08.917 marketing-service [RMI TCP Connection(7)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-02-27 17:09:08.920 marketing-service [RMI TCP Connection(7)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2019-02-27 17:09:08.937 marketing-service [RMI TCP Connection(7)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
2019-02-27 17:18:27.506 marketing-service [Thread-8] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2dd2e270: startup date [Wed Feb 27 17:09:01 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18230356
2019-02-27 17:18:27.511 marketing-service [Thread-8] INFO  o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@2eea4441: startup date [Wed Feb 27 17:09:07 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2dd2e270
2019-02-27 17:18:27.535 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
2019-02-27 17:18:27.536 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147482647
2019-02-27 17:18:27.537 marketing-service [Thread-8] INFO  o.s.c.c.b.ConsulInboundMessageProducer - stopped org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@271a140c
2019-02-27 17:18:27.538 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 0
2019-02-27 17:18:27.538 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:18:27.539 marketing-service [Thread-8] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 0 subscriber(s).
2019-02-27 17:18:27.539 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped _org.springframework.integration.errorLogger
2019-02-27 17:18:27.539 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147482648
2019-02-27 17:18:27.539 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:18:27.540 marketing-service [Thread-8] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 0 subscriber(s).
2019-02-27 17:18:27.540 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped outbound.springCloudBus
2019-02-27 17:18:27.541 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'configWatchTaskScheduler'
2019-02-27 17:18:27.542 marketing-service [Thread-8] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: marketing-service-9002
2019-02-27 17:18:27.549 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'catalogWatchTaskScheduler'
2019-02-27 17:18:27.550 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:18:27.551 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:18:27.551 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: nullChannel
2019-02-27 17:18:27.551 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusOutput
2019-02-27 17:18:27.551 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: errorChannel
2019-02-27 17:18:27.551 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusInput
2019-02-27 17:18:27.551 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: _org.springframework.integration.errorLogger.handler
2019-02-27 17:18:27.552 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:18:27.553 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:18:27.562 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2019-02-27 17:18:27.575 marketing-service [Thread-8] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2019-02-27 17:18:35.125 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@18230356: startup date [Wed Feb 27 17:18:35 CST 2019]; root of context hierarchy
2019-02-27 17:18:35.504 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:18:35.572 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$a4481b30] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:18:35.578 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$ca9e8608] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:18:36.165 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:18:36.208 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - No active profile set, falling back to default profiles: default
2019-02-27 17:18:36.225 marketing-service [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@24db6ce: startup date [Wed Feb 27 17:18:36 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18230356
2019-02-27 17:18:37.008 marketing-service [main] INFO  o.s.i.config.IntegrationRegistrar - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2019-02-27 17:18:37.057 marketing-service [main] INFO  o.s.c.a.ConfigurationClassBeanDefinitionReader - Skipping bean definition for [BeanMethod:name=configurableCompositeMessageConverter,declaringClass=org.springframework.cloud.stream.config.ContentTypeConfiguration]: a definition for bean 'integrationArgumentResolverMessageConverter' already exists. This top-level bean definition is considered as an override.
2019-02-27 17:18:37.391 marketing-service [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=bdfc17fe-bb1e-3827-8eef-f1207bee95c5
2019-02-27 17:18:37.403 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2019-02-27 17:18:37.407 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2019-02-27 17:18:37.418 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:18:37.495 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$a4481b30] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:18:37.530 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ae84830b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:18:37.561 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$19763e3a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:18:37.578 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$ca9e8608] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:18:37.591 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.dsl.context.IntegrationFlowContext' of type [org.springframework.integration.dsl.context.IntegrationFlowContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:18:37.879 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9002 (http)
2019-02-27 17:18:37.906 marketing-service [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2019-02-27 17:18:37.907 marketing-service [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.31
2019-02-27 17:18:37.910 marketing-service [localhost-startStop-1] INFO  o.a.c.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/zhangjunying/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-02-27 17:18:38.038 marketing-service [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-02-27 17:18:38.039 marketing-service [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1814 ms
2019-02-27 17:18:38.315 marketing-service [localhost-startStop-1] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:18:38.315 marketing-service [localhost-startStop-1] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:18:38.325 marketing-service [localhost-startStop-1] INFO  c.n.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@f19d8a3
2019-02-27 17:18:38.496 marketing-service [localhost-startStop-1] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2019-02-27 17:18:38.709 marketing-service [localhost-startStop-1] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2019-02-27 17:18:39.307 marketing-service [localhost-startStop-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'taskScheduler'
2019-02-27 17:18:39.640 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-02-27 17:18:39.642 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet statViewServlet mapped to [/druid/*]
2019-02-27 17:18:39.646 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-02-27 17:18:39.647 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2019-02-27 17:18:39.648 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webStatFilter' to urls: [/*]
2019-02-27 17:18:39.648 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2019-02-27 17:18:40.070 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/actuator/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health()
2019-02-27 17:18:40.071 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/consul/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health2()
2019-02-27 17:18:40.073 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/getusercoupon],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<com.zjy.cld2019.marketingservice.model.MarketingCoupon> com.zjy.cld2019.marketingservice.controller.MarketingController.getMarketingCoupon(java.lang.String)
2019-02-27 17:18:40.074 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/getusercoupons],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<java.util.List<com.zjy.cld2019.marketingservice.model.MarketingCoupon>> com.zjy.cld2019.marketingservice.controller.MarketingController.getUserCouponList(java.lang.String)
2019-02-27 17:18:40.075 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-02-27 17:18:40.077 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2019-02-27 17:18:40.078 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2019-02-27 17:18:40.078 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2019-02-27 17:18:40.081 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-02-27 17:18:40.082 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:18:40.184 marketing-service [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2019-02-27 17:18:40.193 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:18:40.194 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:18:40.195 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:18:40.312 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/swagger-ui.html] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:18:40.313 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:18:40.359 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@24db6ce: startup date [Wed Feb 27 17:18:36 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18230356
2019-02-27 17:18:40.412 marketing-service [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in com.zjy.cld2019.common.rest.advice.RestExceptionHandler
2019-02-27 17:18:40.463 marketing-service [main] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:18:40.463 marketing-service [main] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:18:41.010 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'catalogWatchTaskScheduler'
2019-02-27 17:18:41.154 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'configWatchTaskScheduler'
2019-02-27 17:18:41.302 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:18:41.304 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'statFilter' has been autodetected for JMX exposure
2019-02-27 17:18:41.305 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-02-27 17:18:41.315 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2019-02-27 17:18:41.317 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'integrationMbeanExporter' has been autodetected for JMX exposure
2019-02-27 17:18:41.318 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2019-02-27 17:18:41.319 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2019-02-27 17:18:41.323 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2019-02-27 17:18:41.333 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2019-02-27 17:18:41.341 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'integrationMbeanExporter': registering with JMX server as MBean [org.springframework.integration.monitor:name=integrationMbeanExporter,type=IntegrationMBeanExporter]
2019-02-27 17:18:41.366 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=24db6ce,type=ConfigurationPropertiesRebinder]
2019-02-27 17:18:41.371 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.spring.boot.autoconfigure:name=dataSource,type=DruidDataSourceWrapper]
2019-02-27 17:18:41.373 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'statFilter': registering with JMX server as MBean [com.alibaba.druid.filter.stat:name=statFilter,type=StatFilter]
2019-02-27 17:18:41.391 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:18:41.392 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel errorChannel
2019-02-27 17:18:41.394 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=errorChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=errorChannel]
2019-02-27 17:18:41.434 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusOutput
2019-02-27 17:18:41.436 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusOutput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusOutput]
2019-02-27 17:18:41.446 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusInput
2019-02-27 17:18:41.448 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusInput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusInput]
2019-02-27 17:18:41.457 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel nullChannel
2019-02-27 17:18:41.459 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=nullChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=nullChannel]
2019-02-27 17:18:41.470 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageHandler errorLogger
2019-02-27 17:18:41.472 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal': registering with JMX server as MBean [org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal]
2019-02-27 17:18:41.558 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusInput' has 1 subscriber(s).
2019-02-27 17:18:41.566 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase -2147482648
2019-02-27 17:18:41.620 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:18:41.645 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@34065642: startup date [Wed Feb 27 17:18:41 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@24db6ce
2019-02-27 17:18:41.665 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:18:41.760 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:18:41.761 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 1 subscriber(s).
2019-02-27 17:18:41.761 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started outbound.springCloudBus
2019-02-27 17:18:41.762 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 0
2019-02-27 17:18:41.768 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:18:41.769 marketing-service [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 1 subscriber(s).
2019-02-27 17:18:41.769 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started _org.springframework.integration.errorLogger
2019-02-27 17:18:41.769 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147482647
2019-02-27 17:18:41.776 marketing-service [main] INFO  o.s.c.c.b.ConsulInboundMessageProducer - started org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@240df292
2019-02-27 17:18:41.776 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147483647
2019-02-27 17:18:41.776 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Context refreshed
2019-02-27 17:18:41.806 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Found 1 custom documentation plugin(s)
2019-02-27 17:18:41.825 marketing-service [main] INFO  s.d.s.w.s.ApiListingReferenceScanner - Scanning for api listing references
2019-02-27 17:18:41.988 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 9002 (http) with context path ''
2019-02-27 17:18:42.018 marketing-service [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='marketing-service-9002', name='marketing-service', tags=[secure=false], address='192.168.0.103', port=9002, enableTagOverride=null, check=Check{script='null', interval='10s', ttl='null', http='http://192.168.0.103:9002/consul/health', tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null'}, checks=null}
2019-02-27 17:18:42.033 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - Started MarketingServiceApplication in 7.797 seconds (JVM running for 8.812)
2019-02-27 17:18:42.562 marketing-service [http-nio-9002-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-02-27 17:18:42.564 marketing-service [http-nio-9002-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2019-02-27 17:18:42.593 marketing-service [http-nio-9002-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 29 ms
2019-02-27 17:27:06.125 marketing-service [Thread-8] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@24db6ce: startup date [Wed Feb 27 17:18:36 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18230356
2019-02-27 17:27:06.130 marketing-service [Thread-8] INFO  o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@34065642: startup date [Wed Feb 27 17:18:41 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@24db6ce
2019-02-27 17:27:06.140 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
2019-02-27 17:27:06.143 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147482647
2019-02-27 17:27:06.144 marketing-service [Thread-8] INFO  o.s.c.c.b.ConsulInboundMessageProducer - stopped org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@240df292
2019-02-27 17:27:06.144 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 0
2019-02-27 17:27:06.144 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:27:06.144 marketing-service [Thread-8] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 0 subscriber(s).
2019-02-27 17:27:06.144 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped _org.springframework.integration.errorLogger
2019-02-27 17:27:06.144 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147482648
2019-02-27 17:27:06.144 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:27:06.145 marketing-service [Thread-8] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 0 subscriber(s).
2019-02-27 17:27:06.145 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped outbound.springCloudBus
2019-02-27 17:27:06.145 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'configWatchTaskScheduler'
2019-02-27 17:27:06.146 marketing-service [Thread-8] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: marketing-service-9002
2019-02-27 17:27:06.151 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'catalogWatchTaskScheduler'
2019-02-27 17:27:06.152 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:27:06.153 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:27:06.153 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: errorChannel
2019-02-27 17:27:06.153 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusOutput
2019-02-27 17:27:06.153 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusInput
2019-02-27 17:27:06.153 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: nullChannel
2019-02-27 17:27:06.153 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: _org.springframework.integration.errorLogger.handler
2019-02-27 17:27:06.155 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:27:06.155 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:27:06.161 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2019-02-27 17:27:06.168 marketing-service [Thread-8] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2019-02-27 17:27:55.358 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@56bca85b: startup date [Wed Feb 27 17:27:55 CST 2019]; root of context hierarchy
2019-02-27 17:27:55.682 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:27:55.751 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$74d9fbf0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:27:55.760 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$9b3066c8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:27:56.343 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:27:56.391 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - No active profile set, falling back to default profiles: default
2019-02-27 17:27:56.406 marketing-service [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@14fa92af: startup date [Wed Feb 27 17:27:56 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@56bca85b
2019-02-27 17:27:57.207 marketing-service [main] INFO  o.s.i.config.IntegrationRegistrar - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2019-02-27 17:27:57.252 marketing-service [main] INFO  o.s.c.a.ConfigurationClassBeanDefinitionReader - Skipping bean definition for [BeanMethod:name=configurableCompositeMessageConverter,declaringClass=org.springframework.cloud.stream.config.ContentTypeConfiguration]: a definition for bean 'integrationArgumentResolverMessageConverter' already exists. This top-level bean definition is considered as an override.
2019-02-27 17:27:57.595 marketing-service [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=bdfc17fe-bb1e-3827-8eef-f1207bee95c5
2019-02-27 17:27:57.607 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2019-02-27 17:27:57.609 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2019-02-27 17:27:57.619 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:27:57.697 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$74d9fbf0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:27:57.740 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7f1663cb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:27:57.767 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$ea081efa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:27:57.784 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$9b3066c8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:27:57.801 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.dsl.context.IntegrationFlowContext' of type [org.springframework.integration.dsl.context.IntegrationFlowContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:27:58.113 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9002 (http)
2019-02-27 17:27:58.139 marketing-service [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2019-02-27 17:27:58.139 marketing-service [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.31
2019-02-27 17:27:58.142 marketing-service [localhost-startStop-1] INFO  o.a.c.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/zhangjunying/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-02-27 17:27:58.279 marketing-service [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-02-27 17:27:58.279 marketing-service [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1873 ms
2019-02-27 17:27:58.551 marketing-service [localhost-startStop-1] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:27:58.552 marketing-service [localhost-startStop-1] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:27:58.560 marketing-service [localhost-startStop-1] INFO  c.n.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@294b79d2
2019-02-27 17:27:58.725 marketing-service [localhost-startStop-1] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2019-02-27 17:27:58.938 marketing-service [localhost-startStop-1] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2019-02-27 17:27:59.516 marketing-service [localhost-startStop-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'taskScheduler'
2019-02-27 17:27:59.876 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-02-27 17:27:59.877 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet statViewServlet mapped to [/druid/*]
2019-02-27 17:27:59.881 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-02-27 17:27:59.882 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2019-02-27 17:27:59.882 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webStatFilter' to urls: [/*]
2019-02-27 17:27:59.882 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2019-02-27 17:28:00.306 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/actuator/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health()
2019-02-27 17:28:00.307 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/consul/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health2()
2019-02-27 17:28:00.310 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/getusercoupon],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<com.zjy.cld2019.marketingservice.model.MarketingCoupon> com.zjy.cld2019.marketingservice.controller.MarketingController.getMarketingCoupon(java.lang.String)
2019-02-27 17:28:00.310 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/getusercoupons],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<java.util.List<com.zjy.cld2019.marketingservice.model.MarketingCoupon>> com.zjy.cld2019.marketingservice.controller.MarketingController.getUserCouponList(java.lang.String)
2019-02-27 17:28:00.310 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/addusercoupon],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<java.lang.Boolean> com.zjy.cld2019.marketingservice.controller.MarketingController.addUserCoupon(java.lang.String,java.lang.Integer,java.lang.Integer)
2019-02-27 17:28:00.311 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-02-27 17:28:00.314 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2019-02-27 17:28:00.315 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2019-02-27 17:28:00.315 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2019-02-27 17:28:00.317 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-02-27 17:28:00.318 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:28:00.418 marketing-service [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2019-02-27 17:28:00.428 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:28:00.429 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:28:00.429 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:28:00.541 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/swagger-ui.html] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:28:00.542 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:28:00.592 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@14fa92af: startup date [Wed Feb 27 17:27:56 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@56bca85b
2019-02-27 17:28:00.642 marketing-service [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in com.zjy.cld2019.common.rest.advice.RestExceptionHandler
2019-02-27 17:28:00.701 marketing-service [main] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:28:00.701 marketing-service [main] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:28:01.242 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'catalogWatchTaskScheduler'
2019-02-27 17:28:01.346 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'configWatchTaskScheduler'
2019-02-27 17:28:01.508 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:28:01.511 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'statFilter' has been autodetected for JMX exposure
2019-02-27 17:28:01.511 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-02-27 17:28:01.520 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2019-02-27 17:28:01.523 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'integrationMbeanExporter' has been autodetected for JMX exposure
2019-02-27 17:28:01.524 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2019-02-27 17:28:01.526 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2019-02-27 17:28:01.531 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2019-02-27 17:28:01.539 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2019-02-27 17:28:01.548 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'integrationMbeanExporter': registering with JMX server as MBean [org.springframework.integration.monitor:name=integrationMbeanExporter,type=IntegrationMBeanExporter]
2019-02-27 17:28:01.575 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=14fa92af,type=ConfigurationPropertiesRebinder]
2019-02-27 17:28:01.581 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.spring.boot.autoconfigure:name=dataSource,type=DruidDataSourceWrapper]
2019-02-27 17:28:01.583 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'statFilter': registering with JMX server as MBean [com.alibaba.druid.filter.stat:name=statFilter,type=StatFilter]
2019-02-27 17:28:01.603 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:28:01.604 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel errorChannel
2019-02-27 17:28:01.614 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=errorChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=errorChannel]
2019-02-27 17:28:01.647 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusInput
2019-02-27 17:28:01.649 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusInput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusInput]
2019-02-27 17:28:01.661 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel nullChannel
2019-02-27 17:28:01.663 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=nullChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=nullChannel]
2019-02-27 17:28:01.672 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusOutput
2019-02-27 17:28:01.674 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusOutput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusOutput]
2019-02-27 17:28:01.687 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageHandler errorLogger
2019-02-27 17:28:01.689 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal': registering with JMX server as MBean [org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal]
2019-02-27 17:28:01.813 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusInput' has 1 subscriber(s).
2019-02-27 17:28:01.821 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase -2147482648
2019-02-27 17:28:01.895 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:28:01.923 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@4c24c40a: startup date [Wed Feb 27 17:28:01 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@14fa92af
2019-02-27 17:28:01.938 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:28:01.991 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:28:01.991 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 1 subscriber(s).
2019-02-27 17:28:01.991 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started outbound.springCloudBus
2019-02-27 17:28:01.992 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 0
2019-02-27 17:28:01.993 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:28:01.994 marketing-service [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 1 subscriber(s).
2019-02-27 17:28:01.995 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started _org.springframework.integration.errorLogger
2019-02-27 17:28:01.995 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147482647
2019-02-27 17:28:02.002 marketing-service [main] INFO  o.s.c.c.b.ConsulInboundMessageProducer - started org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@46a0ef6f
2019-02-27 17:28:02.003 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147483647
2019-02-27 17:28:02.003 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Context refreshed
2019-02-27 17:28:02.012 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Found 1 custom documentation plugin(s)
2019-02-27 17:28:02.026 marketing-service [main] INFO  s.d.s.w.s.ApiListingReferenceScanner - Scanning for api listing references
2019-02-27 17:28:02.196 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 9002 (http) with context path ''
2019-02-27 17:28:02.213 marketing-service [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='marketing-service-9002', name='marketing-service', tags=[secure=false], address='192.168.0.103', port=9002, enableTagOverride=null, check=Check{script='null', interval='10s', ttl='null', http='http://192.168.0.103:9002/consul/health', tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null'}, checks=null}
2019-02-27 17:28:02.226 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - Started MarketingServiceApplication in 7.781 seconds (JVM running for 8.796)
2019-02-27 17:28:03.025 marketing-service [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-02-27 17:28:03.027 marketing-service [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2019-02-27 17:28:03.086 marketing-service [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 58 ms
2019-02-27 17:46:09.058 marketing-service [Thread-8] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@14fa92af: startup date [Wed Feb 27 17:27:56 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@56bca85b
2019-02-27 17:46:09.066 marketing-service [Thread-8] INFO  o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@4c24c40a: startup date [Wed Feb 27 17:28:01 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@14fa92af
2019-02-27 17:46:09.089 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
2019-02-27 17:46:09.090 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147482647
2019-02-27 17:46:09.091 marketing-service [Thread-8] INFO  o.s.c.c.b.ConsulInboundMessageProducer - stopped org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@46a0ef6f
2019-02-27 17:46:09.091 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 0
2019-02-27 17:46:09.092 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:46:09.092 marketing-service [Thread-8] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 0 subscriber(s).
2019-02-27 17:46:09.092 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped _org.springframework.integration.errorLogger
2019-02-27 17:46:09.092 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147482648
2019-02-27 17:46:09.092 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:46:09.093 marketing-service [Thread-8] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 0 subscriber(s).
2019-02-27 17:46:09.093 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped outbound.springCloudBus
2019-02-27 17:46:09.093 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'configWatchTaskScheduler'
2019-02-27 17:46:09.094 marketing-service [Thread-8] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: marketing-service-9002
2019-02-27 17:46:09.104 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'catalogWatchTaskScheduler'
2019-02-27 17:46:09.106 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:46:09.110 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:46:09.112 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: errorChannel
2019-02-27 17:46:09.113 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusInput
2019-02-27 17:46:09.114 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: nullChannel
2019-02-27 17:46:09.117 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusOutput
2019-02-27 17:46:09.117 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: _org.springframework.integration.errorLogger.handler
2019-02-27 17:46:09.119 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:46:09.120 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:46:09.134 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2019-02-27 17:46:09.150 marketing-service [Thread-8] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2019-02-27 17:46:16.510 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@18230356: startup date [Wed Feb 27 17:46:16 CST 2019]; root of context hierarchy
2019-02-27 17:46:16.866 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:46:16.938 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$a4481b30] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:46:16.946 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$ca9e8608] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:46:17.520 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:46:17.565 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - No active profile set, falling back to default profiles: default
2019-02-27 17:46:17.581 marketing-service [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c6c82aa: startup date [Wed Feb 27 17:46:17 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18230356
2019-02-27 17:46:18.363 marketing-service [main] INFO  o.s.i.config.IntegrationRegistrar - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2019-02-27 17:46:18.410 marketing-service [main] INFO  o.s.c.a.ConfigurationClassBeanDefinitionReader - Skipping bean definition for [BeanMethod:name=configurableCompositeMessageConverter,declaringClass=org.springframework.cloud.stream.config.ContentTypeConfiguration]: a definition for bean 'integrationArgumentResolverMessageConverter' already exists. This top-level bean definition is considered as an override.
2019-02-27 17:46:18.761 marketing-service [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=bdfc17fe-bb1e-3827-8eef-f1207bee95c5
2019-02-27 17:46:18.777 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2019-02-27 17:46:18.780 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2019-02-27 17:46:18.790 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:46:18.860 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$a4481b30] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:46:18.898 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ae84830b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:46:18.926 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$19763e3a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:46:18.942 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$ca9e8608] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:46:18.956 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.dsl.context.IntegrationFlowContext' of type [org.springframework.integration.dsl.context.IntegrationFlowContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:46:19.246 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9002 (http)
2019-02-27 17:46:19.275 marketing-service [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2019-02-27 17:46:19.276 marketing-service [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.31
2019-02-27 17:46:19.279 marketing-service [localhost-startStop-1] INFO  o.a.c.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/zhangjunying/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-02-27 17:46:19.412 marketing-service [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-02-27 17:46:19.412 marketing-service [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1831 ms
2019-02-27 17:46:19.718 marketing-service [localhost-startStop-1] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:46:19.718 marketing-service [localhost-startStop-1] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:46:19.731 marketing-service [localhost-startStop-1] INFO  c.n.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@5f72c85f
2019-02-27 17:46:19.901 marketing-service [localhost-startStop-1] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2019-02-27 17:46:20.114 marketing-service [localhost-startStop-1] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2019-02-27 17:46:20.705 marketing-service [localhost-startStop-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'taskScheduler'
2019-02-27 17:46:21.010 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-02-27 17:46:21.011 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet statViewServlet mapped to [/druid/*]
2019-02-27 17:46:21.016 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-02-27 17:46:21.017 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2019-02-27 17:46:21.017 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webStatFilter' to urls: [/*]
2019-02-27 17:46:21.017 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2019-02-27 17:46:21.466 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/actuator/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health()
2019-02-27 17:46:21.467 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/consul/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health2()
2019-02-27 17:46:21.469 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/getusercoupon],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<com.zjy.cld2019.marketingservice.model.MarketingCoupon> com.zjy.cld2019.marketingservice.controller.MarketingController.getMarketingCoupon(java.lang.String)
2019-02-27 17:46:21.470 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/getusercoupons],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<java.util.List<com.zjy.cld2019.marketingservice.model.MarketingCoupon>> com.zjy.cld2019.marketingservice.controller.MarketingController.getUserCouponList(java.lang.String)
2019-02-27 17:46:21.470 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/addusercoupon],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<java.lang.Boolean> com.zjy.cld2019.marketingservice.controller.MarketingController.addUserCoupon(java.lang.String,java.lang.Integer,java.lang.Integer)
2019-02-27 17:46:21.470 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/usecoupon],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<java.lang.Boolean> com.zjy.cld2019.marketingservice.controller.MarketingController.useCoupon(java.lang.String,java.lang.String)
2019-02-27 17:46:21.471 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-02-27 17:46:21.474 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2019-02-27 17:46:21.475 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2019-02-27 17:46:21.475 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2019-02-27 17:46:21.477 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-02-27 17:46:21.477 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:46:21.580 marketing-service [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2019-02-27 17:46:21.590 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:46:21.590 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:46:21.591 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:46:21.720 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/swagger-ui.html] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:46:21.720 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:46:21.768 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c6c82aa: startup date [Wed Feb 27 17:46:17 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18230356
2019-02-27 17:46:21.814 marketing-service [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in com.zjy.cld2019.common.rest.advice.RestExceptionHandler
2019-02-27 17:46:21.844 marketing-service [main] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:46:21.844 marketing-service [main] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:46:22.410 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'catalogWatchTaskScheduler'
2019-02-27 17:46:22.515 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'configWatchTaskScheduler'
2019-02-27 17:46:22.628 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:46:22.631 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'statFilter' has been autodetected for JMX exposure
2019-02-27 17:46:22.631 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-02-27 17:46:22.640 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2019-02-27 17:46:22.643 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'integrationMbeanExporter' has been autodetected for JMX exposure
2019-02-27 17:46:22.644 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2019-02-27 17:46:22.644 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2019-02-27 17:46:22.648 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2019-02-27 17:46:22.657 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2019-02-27 17:46:22.669 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'integrationMbeanExporter': registering with JMX server as MBean [org.springframework.integration.monitor:name=integrationMbeanExporter,type=IntegrationMBeanExporter]
2019-02-27 17:46:22.725 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=c6c82aa,type=ConfigurationPropertiesRebinder]
2019-02-27 17:46:22.731 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.spring.boot.autoconfigure:name=dataSource,type=DruidDataSourceWrapper]
2019-02-27 17:46:22.732 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'statFilter': registering with JMX server as MBean [com.alibaba.druid.filter.stat:name=statFilter,type=StatFilter]
2019-02-27 17:46:22.751 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:46:22.751 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel errorChannel
2019-02-27 17:46:22.754 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=errorChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=errorChannel]
2019-02-27 17:46:22.784 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusOutput
2019-02-27 17:46:22.785 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusOutput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusOutput]
2019-02-27 17:46:22.795 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel nullChannel
2019-02-27 17:46:22.797 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=nullChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=nullChannel]
2019-02-27 17:46:22.806 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusInput
2019-02-27 17:46:22.808 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusInput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusInput]
2019-02-27 17:46:22.823 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageHandler errorLogger
2019-02-27 17:46:22.825 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal': registering with JMX server as MBean [org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal]
2019-02-27 17:46:22.909 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusInput' has 1 subscriber(s).
2019-02-27 17:46:22.917 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase -2147482648
2019-02-27 17:46:23.012 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:46:23.033 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@5da1a97f: startup date [Wed Feb 27 17:46:23 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c6c82aa
2019-02-27 17:46:23.060 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:46:23.117 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:46:23.118 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 1 subscriber(s).
2019-02-27 17:46:23.118 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started outbound.springCloudBus
2019-02-27 17:46:23.118 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 0
2019-02-27 17:46:23.121 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:46:23.122 marketing-service [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 1 subscriber(s).
2019-02-27 17:46:23.122 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started _org.springframework.integration.errorLogger
2019-02-27 17:46:23.123 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147482647
2019-02-27 17:46:23.130 marketing-service [main] INFO  o.s.c.c.b.ConsulInboundMessageProducer - started org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@7ade62a6
2019-02-27 17:46:23.130 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147483647
2019-02-27 17:46:23.130 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Context refreshed
2019-02-27 17:46:23.142 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Found 1 custom documentation plugin(s)
2019-02-27 17:46:23.157 marketing-service [main] INFO  s.d.s.w.s.ApiListingReferenceScanner - Scanning for api listing references
2019-02-27 17:46:23.333 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 9002 (http) with context path ''
2019-02-27 17:46:23.359 marketing-service [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='marketing-service-9002', name='marketing-service', tags=[secure=false], address='192.168.0.103', port=9002, enableTagOverride=null, check=Check{script='null', interval='10s', ttl='null', http='http://192.168.0.103:9002/consul/health', tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null'}, checks=null}
2019-02-27 17:46:23.374 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - Started MarketingServiceApplication in 7.741 seconds (JVM running for 8.723)
2019-02-27 17:46:24.357 marketing-service [RMI TCP Connection(7)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-02-27 17:46:24.362 marketing-service [RMI TCP Connection(7)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2019-02-27 17:46:24.383 marketing-service [RMI TCP Connection(7)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2019-02-27 17:47:52.183 marketing-service [Thread-8] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c6c82aa: startup date [Wed Feb 27 17:46:17 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@18230356
2019-02-27 17:47:52.188 marketing-service [Thread-8] INFO  o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@5da1a97f: startup date [Wed Feb 27 17:46:23 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@c6c82aa
2019-02-27 17:47:52.192 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
2019-02-27 17:47:52.192 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147482647
2019-02-27 17:47:52.192 marketing-service [Thread-8] INFO  o.s.c.c.b.ConsulInboundMessageProducer - stopped org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@7ade62a6
2019-02-27 17:47:52.192 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 0
2019-02-27 17:47:52.192 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:47:52.193 marketing-service [Thread-8] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 0 subscriber(s).
2019-02-27 17:47:52.193 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped _org.springframework.integration.errorLogger
2019-02-27 17:47:52.193 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147482648
2019-02-27 17:47:52.193 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:47:52.193 marketing-service [Thread-8] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 0 subscriber(s).
2019-02-27 17:47:52.193 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped outbound.springCloudBus
2019-02-27 17:47:52.193 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'configWatchTaskScheduler'
2019-02-27 17:47:52.194 marketing-service [Thread-8] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: marketing-service-9002
2019-02-27 17:47:52.200 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'catalogWatchTaskScheduler'
2019-02-27 17:47:52.201 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:47:52.202 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:47:52.203 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: errorChannel
2019-02-27 17:47:52.203 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusOutput
2019-02-27 17:47:52.203 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: nullChannel
2019-02-27 17:47:52.203 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusInput
2019-02-27 17:47:52.203 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: _org.springframework.integration.errorLogger.handler
2019-02-27 17:47:52.203 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:47:52.204 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:47:52.208 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2019-02-27 17:47:52.212 marketing-service [Thread-8] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2019-02-27 17:52:33.722 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@56bca85b: startup date [Wed Feb 27 17:52:33 CST 2019]; root of context hierarchy
2019-02-27 17:52:34.156 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:52:34.229 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$5f58925c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:52:34.235 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$85aefd34] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:52:34.843 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:52:34.893 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - No active profile set, falling back to default profiles: default
2019-02-27 17:52:34.909 marketing-service [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5b22d8a1: startup date [Wed Feb 27 17:52:34 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@56bca85b
2019-02-27 17:52:35.793 marketing-service [main] INFO  o.s.i.config.IntegrationRegistrar - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2019-02-27 17:52:35.850 marketing-service [main] INFO  o.s.c.a.ConfigurationClassBeanDefinitionReader - Skipping bean definition for [BeanMethod:name=configurableCompositeMessageConverter,declaringClass=org.springframework.cloud.stream.config.ContentTypeConfiguration]: a definition for bean 'integrationArgumentResolverMessageConverter' already exists. This top-level bean definition is considered as an override.
2019-02-27 17:52:36.201 marketing-service [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=bdfc17fe-bb1e-3827-8eef-f1207bee95c5
2019-02-27 17:52:36.223 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2019-02-27 17:52:36.227 marketing-service [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2019-02-27 17:52:36.238 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:52:36.310 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$5f58925c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:52:36.348 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6994fa37] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:52:36.377 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$d486b566] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:52:36.397 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$85aefd34] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:52:36.411 marketing-service [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.integration.dsl.context.IntegrationFlowContext' of type [org.springframework.integration.dsl.context.IntegrationFlowContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-02-27 17:52:36.686 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9002 (http)
2019-02-27 17:52:36.714 marketing-service [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2019-02-27 17:52:36.715 marketing-service [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.31
2019-02-27 17:52:36.721 marketing-service [localhost-startStop-1] INFO  o.a.c.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/zhangjunying/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-02-27 17:52:36.863 marketing-service [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2019-02-27 17:52:36.864 marketing-service [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1955 ms
2019-02-27 17:52:37.174 marketing-service [localhost-startStop-1] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:52:37.175 marketing-service [localhost-startStop-1] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:52:37.187 marketing-service [localhost-startStop-1] INFO  c.n.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@277928ed
2019-02-27 17:52:37.370 marketing-service [localhost-startStop-1] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2019-02-27 17:52:37.590 marketing-service [localhost-startStop-1] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2019-02-27 17:52:38.192 marketing-service [localhost-startStop-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'taskScheduler'
2019-02-27 17:52:38.519 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-02-27 17:52:38.522 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Servlet statViewServlet mapped to [/druid/*]
2019-02-27 17:52:38.527 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-02-27 17:52:38.527 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'httpTraceFilter' to: [/*]
2019-02-27 17:52:38.528 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webStatFilter' to urls: [/*]
2019-02-27 17:52:38.528 marketing-service [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'webMvcMetricsFilter' to: [/*]
2019-02-27 17:52:38.992 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/actuator/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health()
2019-02-27 17:52:38.993 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/consul/health],methods=[GET]}" onto public java.lang.String com.zjy.cld2019.marketingservice.controller.HealthController.health2()
2019-02-27 17:52:38.995 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/getusercoupon],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<com.zjy.cld2019.marketingservice.model.MarketingCoupon> com.zjy.cld2019.marketingservice.controller.MarketingController.getMarketingCoupon(java.lang.String)
2019-02-27 17:52:38.996 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/getusercoupons],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<java.util.List<com.zjy.cld2019.marketingservice.model.MarketingCoupon>> com.zjy.cld2019.marketingservice.controller.MarketingController.getUserCouponList(java.lang.String)
2019-02-27 17:52:38.997 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/addusercoupon],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<java.lang.Boolean> com.zjy.cld2019.marketingservice.controller.MarketingController.addUserCoupon(java.lang.String,java.lang.Integer,java.lang.Integer)
2019-02-27 17:52:38.997 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/marketing/usecoupon],methods=[POST]}" onto public com.zjy.cld2019.common.rest.RestResponse<java.lang.Boolean> com.zjy.cld2019.marketingservice.controller.MarketingController.useCoupon(java.lang.String,java.lang.String)
2019-02-27 17:52:38.997 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2019-02-27 17:52:39.001 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2019-02-27 17:52:39.001 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2019-02-27 17:52:39.002 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2019-02-27 17:52:39.005 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-02-27 17:52:39.006 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:52:39.109 marketing-service [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'
2019-02-27 17:52:39.120 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:52:39.121 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2019-02-27 17:52:39.122 marketing-service [main] INFO  o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2019-02-27 17:52:39.236 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/swagger-ui.html] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:52:39.236 marketing-service [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-02-27 17:52:39.291 marketing-service [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5b22d8a1: startup date [Wed Feb 27 17:52:34 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@56bca85b
2019-02-27 17:52:39.339 marketing-service [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in com.zjy.cld2019.common.rest.advice.RestExceptionHandler
2019-02-27 17:52:39.368 marketing-service [main] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2019-02-27 17:52:39.369 marketing-service [main] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2019-02-27 17:52:40.006 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'catalogWatchTaskScheduler'
2019-02-27 17:52:40.118 marketing-service [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'configWatchTaskScheduler'
2019-02-27 17:52:40.239 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:52:40.241 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'statFilter' has been autodetected for JMX exposure
2019-02-27 17:52:40.242 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-02-27 17:52:40.253 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'environmentManager' has been autodetected for JMX exposure
2019-02-27 17:52:40.258 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'integrationMbeanExporter' has been autodetected for JMX exposure
2019-02-27 17:52:40.260 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'refreshScope' has been autodetected for JMX exposure
2019-02-27 17:52:40.261 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2019-02-27 17:52:40.267 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2019-02-27 17:52:40.276 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2019-02-27 17:52:40.284 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'integrationMbeanExporter': registering with JMX server as MBean [org.springframework.integration.monitor:name=integrationMbeanExporter,type=IntegrationMBeanExporter]
2019-02-27 17:52:40.316 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=5b22d8a1,type=ConfigurationPropertiesRebinder]
2019-02-27 17:52:40.321 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.alibaba.druid.spring.boot.autoconfigure:name=dataSource,type=DruidDataSourceWrapper]
2019-02-27 17:52:40.322 marketing-service [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Located MBean 'statFilter': registering with JMX server as MBean [com.alibaba.druid.filter.stat:name=statFilter,type=StatFilter]
2019-02-27 17:52:40.342 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering beans for JMX exposure on startup
2019-02-27 17:52:40.342 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel errorChannel
2019-02-27 17:52:40.345 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=errorChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=errorChannel]
2019-02-27 17:52:40.368 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusOutput
2019-02-27 17:52:40.370 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusOutput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusOutput]
2019-02-27 17:52:40.377 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel springCloudBusInput
2019-02-27 17:52:40.379 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=springCloudBusInput': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=springCloudBusInput]
2019-02-27 17:52:40.389 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageChannel nullChannel
2019-02-27 17:52:40.392 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageChannel,name=nullChannel': registering with JMX server as MBean [org.springframework.integration:type=MessageChannel,name=nullChannel]
2019-02-27 17:52:40.405 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Registering MessageHandler errorLogger
2019-02-27 17:52:40.407 marketing-service [main] INFO  o.s.i.m.IntegrationMBeanExporter - Located managed bean 'org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal': registering with JMX server as MBean [org.springframework.integration:type=MessageHandler,name=errorLogger,bean=internal]
2019-02-27 17:52:40.480 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusInput' has 1 subscriber(s).
2019-02-27 17:52:40.489 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase -2147482648
2019-02-27 17:52:40.544 marketing-service [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: CompositePropertySource {name='consul', propertySources=[ConsulPropertySource {name='config/marketing-service/'}, ConsulPropertySource {name='config/application/'}]}
2019-02-27 17:52:40.574 marketing-service [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@35f35c59: startup date [Wed Feb 27 17:52:40 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5b22d8a1
2019-02-27 17:52:40.587 marketing-service [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2019-02-27 17:52:40.673 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:52:40.673 marketing-service [main] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 1 subscriber(s).
2019-02-27 17:52:40.673 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started outbound.springCloudBus
2019-02-27 17:52:40.674 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 0
2019-02-27 17:52:40.675 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:52:40.676 marketing-service [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 1 subscriber(s).
2019-02-27 17:52:40.676 marketing-service [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started _org.springframework.integration.errorLogger
2019-02-27 17:52:40.678 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147482647
2019-02-27 17:52:40.684 marketing-service [main] INFO  o.s.c.c.b.ConsulInboundMessageProducer - started org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@58679ff
2019-02-27 17:52:40.684 marketing-service [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147483647
2019-02-27 17:52:40.684 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Context refreshed
2019-02-27 17:52:40.694 marketing-service [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Found 1 custom documentation plugin(s)
2019-02-27 17:52:40.707 marketing-service [main] INFO  s.d.s.w.s.ApiListingReferenceScanner - Scanning for api listing references
2019-02-27 17:52:40.889 marketing-service [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 9002 (http) with context path ''
2019-02-27 17:52:40.909 marketing-service [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='marketing-service-9002', name='marketing-service', tags=[secure=false], address='192.168.0.103', port=9002, enableTagOverride=null, check=Check{script='null', interval='10s', ttl='null', http='http://192.168.0.103:9002/consul/health', tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null'}, checks=null}
2019-02-27 17:52:40.924 marketing-service [main] INFO  c.z.c.m.MarketingServiceApplication - Started MarketingServiceApplication in 8.005 seconds (JVM running for 9.037)
2019-02-27 17:52:41.591 marketing-service [RMI TCP Connection(8)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-02-27 17:52:41.603 marketing-service [RMI TCP Connection(8)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2019-02-27 17:52:41.626 marketing-service [RMI TCP Connection(8)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2019-02-27 17:53:32.697 marketing-service [Thread-8] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5b22d8a1: startup date [Wed Feb 27 17:52:34 CST 2019]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@56bca85b
2019-02-27 17:53:32.699 marketing-service [Thread-8] INFO  o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@35f35c59: startup date [Wed Feb 27 17:52:40 CST 2019]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5b22d8a1
2019-02-27 17:53:32.708 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
2019-02-27 17:53:32.709 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147482647
2019-02-27 17:53:32.709 marketing-service [Thread-8] INFO  o.s.c.c.b.ConsulInboundMessageProducer - stopped org.springframework.cloud.consul.binder.ConsulInboundMessageProducer@58679ff
2019-02-27 17:53:32.709 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 0
2019-02-27 17:53:32.709 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2019-02-27 17:53:32.709 marketing-service [Thread-8] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'application-1.errorChannel' has 0 subscriber(s).
2019-02-27 17:53:32.710 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped _org.springframework.integration.errorLogger
2019-02-27 17:53:32.710 marketing-service [Thread-8] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147482648
2019-02-27 17:53:32.710 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {message-handler:outbound.springCloudBus} as a subscriber to the 'springCloudBusOutput' channel
2019-02-27 17:53:32.711 marketing-service [Thread-8] INFO  o.s.i.channel.DirectChannel - Channel 'application-1.springCloudBusOutput' has 0 subscriber(s).
2019-02-27 17:53:32.711 marketing-service [Thread-8] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped outbound.springCloudBus
2019-02-27 17:53:32.711 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'configWatchTaskScheduler'
2019-02-27 17:53:32.711 marketing-service [Thread-8] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: marketing-service-9002
2019-02-27 17:53:32.719 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'catalogWatchTaskScheduler'
2019-02-27 17:53:32.720 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:53:32.720 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:53:32.720 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: errorChannel
2019-02-27 17:53:32.720 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusOutput
2019-02-27 17:53:32.720 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: springCloudBusInput
2019-02-27 17:53:32.720 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: nullChannel
2019-02-27 17:53:32.720 marketing-service [Thread-8] INFO  o.s.i.m.IntegrationMBeanExporter - Summary on shutdown: _org.springframework.integration.errorLogger.handler
2019-02-27 17:53:32.721 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2019-02-27 17:53:32.721 marketing-service [Thread-8] INFO  o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2019-02-27 17:53:32.725 marketing-service [Thread-8] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
2019-02-27 17:53:32.731 marketing-service [Thread-8] INFO  c.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
